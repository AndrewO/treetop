<html><head><link rel="stylesheet" href="./screen.css" type="text/css"></link></head><body><div id="top"><div id="main_navigation"><ul><li>Documentation</li><li><a href="site/contribute.html">Contribute</a></li><li><a href="site/index.html">Home</a></li></ul></div></div><div id="middle"><div id="content"><div id="secondary_navigation"><ul><li><a href="site/syntactic_recognition.html">Syntax</a></li><li><a href="site/semantic_interpretation.html">Semantics</a></li><li>Using In Ruby</li><li><a href="site/pitfalls_and_advanced_techniques.html">Advanced Techniques</a></li></ul></div><h1>Using Treetop Grammars in Ruby</h1>

<h2>Using the Command Line Compiler</h2>

<p>You can <code>.treetop</code> files into Ruby source code with the <code>tt</code> command line script. <code>tt</code> takes an list of files with a <code>.treetop</code> extension and compiles them into <code>.rb</code> files of the same name. You can then <code>require</code> these files like any other Ruby script. Alternately, you can supply just one <code>.treetop</code> file and a <code>-o</code> flag to name specify the name of the output file. Improvements to this compilation script are welcome.</p>

<pre><code>tt foo.treetop bar.treetop
tt foo.treetop -o foogrammar.rb
</code></pre>

<h2>Loading A Grammar Directly</h2>

<p>The <code>Treetop.load</code> method takes the path to a <code>.treetop</code> file (where the extension is optional), and automatically compiles and evaluates the Ruby source. If you are getting errors in methods you define on the syntax tree, try using the command line compiler for better stack trace feedback. The need to do this is being addressed.</p>

<h2>Instantiating and Using Parsers</h2>

<p>If a grammar by the name of <code>Foo</code> is defined, the compiled Ruby source will define a <code>FooParser</code> class. To parse input, create an instance and call its <code>parse</code> method with a string.</p>

<pre><code>Treetop.load "arithmetic"

parser = ArithmeticParser.new
puts parser.parse('1+1').success?
</code></pre></div></div><div id="bottom"></div></body></html>