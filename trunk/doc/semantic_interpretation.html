<h1>Semantic Interpretation</h1>

<p>Parsers produce trees corresponding to the expressions matched during the parse. For each expression match, an instance of <code>Treetop::Runtime::SyntaxNode</code> is instantiated to represent the corresponding node in the tree. Methods can be added to these nodes by following parsing expressions with curly-brace (<code>{}</code>) delimited block. You can think about each parsing expression as a kind of class declaration. Following the expression with a block gives the "class" it declares a body.</p>

<pre><code>grammar ParenLanguage
  rule parenthesized_letter
    '(' parenthesized_letter ')' {
      def depth
        parenthesized_letter.depth + 1
      end
    }
    /
    [a-z] {
      def depth
        0
      end
    }
  end
end
</code></pre>

<p>The above grammar matches nested parentheses surrounding a lower-cased letter from a to z. It produces tree like this:</p>

<p><img src="./images/paren_language_output.png" alt="Tree Returned By ParenLanguageParser" title="" /></p>

<p>Note that each alternative expression is followed by a block containing a method definition. A <code>depth</code> method is defined on both expressions.</p>
